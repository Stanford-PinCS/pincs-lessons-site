(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{4210:(e,t,l)=>{Promise.resolve().then(l.bind(l,7724))},7724:(e,t,l)=>{"use strict";l.d(t,{default:()=>i});var a=l(5155),n=l(2115),s=l(6758);let i=()=>{let[e,t]=(0,n.useState)([]),[l,i]=(0,n.useState)(null),[o,r]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=new s.RG().toDestination();return c(e),()=>{e.dispose()}},[]);let h=l=>{d&&(d.triggerAttackRelease(l,"8n"),t([...e,l]))},b=async()=>{if(0===e.length)return;r(!0),await s.ni();let t=s.tB();e.forEach((e,l)=>{null==d||d.triggerAttackRelease(e,"8n",t+.5*l)}),setTimeout(()=>r(!1),500*e.length)};return(0,a.jsxs)("div",{className:"p-6 max-w-4xl mx-auto bg-gray-100 rounded-lg shadow-lg",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Music Mood Analyzer"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Play notes to create a melody:"}),(0,a.jsx)("div",{className:"flex relative h-40 mb-4 justify-center",children:[{note:"C4",label:"C",type:"white"},{note:"C#4",label:"C#",type:"black"},{note:"D4",label:"D",type:"white"},{note:"D#4",label:"D#",type:"black"},{note:"E4",label:"E",type:"white"},{note:"F4",label:"F",type:"white"},{note:"F#4",label:"F#",type:"black"},{note:"G4",label:"G",type:"white"},{note:"G#4",label:"G#",type:"black"},{note:"A4",label:"A",type:"white"},{note:"A#4",label:"A#",type:"black"},{note:"B4",label:"B",type:"white"},{note:"C5",label:"C",type:"white"}].map((t,l)=>(0,a.jsx)("div",{className:"\n                ".concat("white"===t.type?"bg-white border border-gray-300 w-12 h-40 relative z-0":"bg-black w-8 h-24 absolute z-10"," \n                ").concat("black"===t.type?"-ml-4 mt-0":"","\n                cursor-pointer hover:bg-blue-100 flex items-end justify-center\n                ").concat(e.includes(t.note)?"bg-blue-200":"","\n              "),style:{left:"black"===t.type?"".concat(48*l-16,"px"):"",marginLeft:"black"===t.type?"":"0"},onClick:()=>h(t.note),children:(0,a.jsx)("span",{className:"mb-2 ".concat("black"===t.type?"text-white":"text-black"),children:t.label})},l))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Your melody:"}),(0,a.jsx)("div",{className:"bg-white p-4 rounded shadow mb-4 min-h-16",children:e.length>0?e.join(" - "):"No notes yet. Click the piano keys above to add notes."}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",onClick:b,disabled:o||0===e.length,children:o?"Playing...":"Play Melody"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:bg-gray-400",onClick:()=>{if(e.length<3){i({mood:"Need at least 3 notes for analysis",details:"Try adding more notes to your melody"});return}let t=e.map(e=>e.replace(/\d/g,"")),l=["C","E","G","F","A","D","B"],a=["C","D#","G","G#","A#","D","F"],n=0,o=0;t.forEach(e=>{l.includes(e)&&n++,a.includes(e)&&o++});let r=[];for(let t=0;t<e.length-1;t++){let l=s.jN(e[t]).toMidi(),a=s.jN(e[t+1]).toMidi();r.push(a-l)}let d=r.filter(e=>e>0).length,c=r.filter(e=>e<0).length,h=r.filter(e=>Math.abs(e)>4).length,b="",m="";n>o?(b="Happy/Bright",m="Your melody tends toward major tonality, creating a bright, positive mood."):o>n?(b="Sad/Melancholic",m="Your melody has minor tonality characteristics, evoking more melancholic emotions."):(b="Balanced/Neutral",m="Your melody balances major and minor elements, creating an emotionally complex feeling."),d>2*c?(b+=", Uplifting",m+=" The predominantly rising intervals create a sense of uplift and optimism."):c>2*d&&(b+=", Somber",m+=" The predominantly falling intervals create a sense of descent or resignation."),h>e.length/3&&(b+=", Dramatic",m+=" The large interval jumps create drama and emotional intensity."),i({mood:b,details:m})},disabled:0===e.length,children:"Analyze Mood"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:bg-gray-400",onClick:()=>{t([]),i(null)},disabled:0===e.length,children:"Clear"})]})]}),l&&(0,a.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Mood Analysis:"}),(0,a.jsx)("p",{className:"text-xl font-bold text-purple-600 mb-2",children:l.mood}),(0,a.jsx)("p",{children:l.details}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded",children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,a.jsx)("strong",{children:"Music Theory Insight:"})," Major scales (like C major: C-D-E-F-G-A-B) tend to sound bright and happy, while minor scales (like A minor: A-B-C-D-E-F-G) often evoke sadness or melancholy. Rising intervals can create tension or excitement, while falling intervals may suggest release or calm."]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[758,441,684,358],()=>t(4210)),_N_E=e.O()}]);